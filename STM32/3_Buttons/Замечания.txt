В Proteus STM32 blue pill не работает чтение вывода GPIO на вход (при наличии резистора между портом и кнопкой, пример в 
протеус с arduino due отрабатывал и с кнопкой), при этом в железе все отрабатывает.
Попробовать чип отдельно (собрать или найти пример), попроботь в Wowki

Здесь тоже нет примера с чтением вывода на вход
https://microdigisoft.com/category/proteus-projects/

Чтение уникального Device ID
https://istarik.ru/blog/stm32/152.html

Здесь пример с отдельным чипом
https://simpleprogramming.ru/st2-podklyuchenie-k-mikrokontrolleru-stm32-svetodiodov-i-knopki-modelirovanie-v-proteus/

